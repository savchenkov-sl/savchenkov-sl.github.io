(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0bda":function(e,t,a){},"14c3b":function(e,t,a){"use strict";a("0bda")},"713b":function(e,t,a){"use strict";a.r(t);var l=a("7a23");const c=Object(l["Q"])("data-v-3f883414");Object(l["C"])("data-v-3f883414");const o=Object(l["j"])("Сохранить в облако"),b=Object(l["j"])(" карту можно будет открыть на другом устройстве "),n=Object(l["j"])("Добавить элемент"),s=Object(l["j"])(" создать новый корневой элемент на этой карте "),u=Object(l["j"])("Карта"),r=Object(l["j"])(" перейти к выбранной карте "),i=Object(l["j"])("Карты"),d=Object(l["j"])(" перейти к списку карт "),j=Object(l["j"])("Задачи на сегодня"),O=Object(l["j"])(" перейти к списку задач на сегодня и просроченных дел "),f=Object(l["j"])("Экспорт в файл"),p=Object(l["j"])(" сохранить карту на этом устройстве "),k=Object(l["j"])("Импорт из файла");Object(l["A"])();const m=c(((e,t,a,m,h,_)=>{const g=Object(l["G"])("q-linear-progress"),w=Object(l["G"])("q-btn"),C=Object(l["G"])("q-toolbar-title"),$=Object(l["G"])("q-space"),v=Object(l["G"])("fb"),G=Object(l["G"])("GoogleCalendar"),L=Object(l["G"])("q-toolbar"),y=Object(l["G"])("q-header"),q=Object(l["G"])("q-item-label"),Q=Object(l["G"])("q-icon"),I=Object(l["G"])("q-item-section"),D=Object(l["G"])("q-item"),U=Object(l["G"])("q-file"),A=Object(l["G"])("q-list"),V=Object(l["G"])("q-drawer"),F=Object(l["G"])("router-view"),x=Object(l["G"])("q-page-container"),M=Object(l["G"])("q-layout");return Object(l["z"])(),Object(l["h"])(M,{view:"lHh Lpr lFf"},{default:c((()=>[Object(l["O"])(Object(l["k"])(y,{elevated:"",class:"header"},{default:c((()=>[Object(l["k"])(L,{class:"q-gutter-sm-x-sm "},{default:c((()=>[Object(l["O"])(Object(l["k"])(g,{indeterminate:"",class:"absolute",style:{bottom:"-4px",left:"0px"}},null,512),[[l["L"],e.$root.auth.isLoading]]),Object(l["k"])(w,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),Object(l["k"])(C,{class:"gt-sm"},{default:c((()=>[Object(l["j"])(Object(l["J"])(e.$root.header),1)])),_:1}),Object(l["k"])($),Object(l["k"])(v),Object(l["k"])(G)])),_:1})])),_:1},512),[[l["L"],!e.$root.ifFullscreen]]),Object(l["k"])(V,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[7]||(t[7]=t=>e.leftDrawerOpen=t),bordered:"",class:"bg-grey-1"},{default:c((()=>[Object(l["k"])(A,null,{default:c((()=>[Object(l["k"])(q,{header:"",class:"text-grey-8 lt-md",onClick:t[1]||(t[1]=t=>e.$router.push("/tests"))},{default:c((()=>[Object(l["j"])(Object(l["J"])(e.$root.header)+" "+Object(l["J"])(e.$root.version),1)])),_:1}),Object(l["k"])(q,{header:"",class:"text-grey-8 gt-sm",onClick:t[2]||(t[2]=t=>e.$router.push("/tests"))},{default:c((()=>[Object(l["j"])(Object(l["J"])(e.$root.version),1)])),_:1}),Object(l["k"])(D,{clickable:"",onClick:e.$root.uploadMapToCloud},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"save"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[o])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[b])),_:1})])),_:1})])),_:1},8,["onClick"]),Object(l["O"])(Object(l["k"])(D,{clickable:"",onClick:e.$root.createNewRootNode},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"add"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[n])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[s])),_:1})])),_:1})])),_:1},8,["onClick"]),[[l["L"],"/"===e.$route.path]]),Object(l["O"])(Object(l["k"])(D,{clickable:"",onClick:t[3]||(t[3]=t=>e.$router.push("/"))},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"grid_view"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[u])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[r])),_:1})])),_:1})])),_:1},512),[[l["L"],"/"!==e.$route.path]]),Object(l["O"])(Object(l["k"])(D,{clickable:"",onClick:t[4]||(t[4]=t=>e.$router.push("/maps"))},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"view_list"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[i])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[d])),_:1})])),_:1})])),_:1},512),[[l["L"],"/maps"!==e.$route.path]]),Object(l["O"])(Object(l["k"])(D,{clickable:"",onClick:t[5]||(t[5]=t=>e.$router.push("/tasks"))},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"format_list_bulleted"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[j])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[O])),_:1})])),_:1})])),_:1},512),[[l["L"],"/tasks"!==e.$route.path]]),Object(l["k"])(D,{clickable:"",onClick:e.$root.downloadAll},{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"sim_card_download"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[f])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[p])),_:1})])),_:1})])),_:1},8,["onClick"]),Object(l["k"])(D,null,{default:c((()=>[Object(l["k"])(I,{avatar:""},{default:c((()=>[Object(l["k"])(Q,{name:"file_present"})])),_:1}),Object(l["k"])(I,null,{default:c((()=>[Object(l["k"])(q,null,{default:c((()=>[k])),_:1}),Object(l["k"])(q,{caption:""},{default:c((()=>[Object(l["k"])(U,{outlined:"",style:{"max-width":"200px"},modelValue:e.$root.uploadingFile,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.$root.uploadingFile=t),e.$root.uploadAll],label:"Открыть"},{prepend:c((()=>[Object(l["k"])(Q,{name:"attach_file"})])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),Object(l["k"])(x,null,{default:c((()=>[(Object(l["z"])(),Object(l["h"])(l["b"],null,[Object(l["k"])(F)],1024))])),_:1})])),_:1})}));function h(e,t,a,c,o,b){const n=Object(l["G"])("q-icon"),s=Object(l["G"])("q-input");return Object(l["z"])(),Object(l["h"])(l["a"],null,[Object(l["O"])(Object(l["k"])(s,{dark:"",dense:"",standout:"",modelValue:o.email,"onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),class:"q-ml-md",placeholder:"Email"},{prepend:Object(l["N"])((()=>[Object(l["k"])(n,{name:"person"})])),_:1},8,["modelValue"]),[[l["L"],null==o.fbUser]]),Object(l["O"])(Object(l["k"])(s,{dark:"",dense:"",standout:"",modelValue:o.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),class:"q-ml-md",type:"password",placeholder:"Пароль"},{prepend:Object(l["N"])((()=>[Object(l["k"])(n,{name:"lock"})])),_:1},8,["modelValue"]),[[l["L"],null==o.fbUser]]),Object(l["O"])(Object(l["k"])(n,{name:"login",onClick:b.logIn,style:{cursor:"pointer","font-size":"32px","padding-left":"10px"}},null,8,["onClick"]),[[l["L"],null==o.fbUser]]),Object(l["O"])(Object(l["k"])(n,{name:"logout",onClick:b.logOut,style:{cursor:"pointer","font-size":"32px","padding-left":"10px"}},null,8,["onClick"]),[[l["L"],null!=o.fbUser]])],64)}a("e6cf");var _=a("260b"),g=(a("e71f"),a("ea7b"),{name:"Fb",data(){return{idToDelete:"",email:"",password:"",fb:null,fbDb:null,fbAuth:null,fbUser:null,firebaseConfig:{apiKey:"AIzaSyArYm7jjrwBElTpA4h_CHDihFO6hWc2Ij8",authDomain:"vue-mm.firebaseapp.com",projectId:"vue-mm",storageBucket:"vue-mm.appspot.com",messagingSenderId:"910034929083",appId:"1:910034929083:web:7187260c798b2c76e9f09e",measurementId:"G-V1L9ZK0D05"}}},methods:{async logIn(){await this.fbAuth.signInWithEmailAndPassword(this.email,this.password);this.password=""},async logOut(){await this.fbAuth.signOut(),this.fbUser=null},async storeMap(e){if(!this.fbUser.hasOwnProperty("uid"))return"нужно войти";await this.fbDb.collection(`maps/${this.fbUser.uid}/maps`).doc("1").set(e)},async getMap(){if(!this.fbUser.hasOwnProperty("uid"))return"нужно войти";let e=await this.fbDb.collection(`maps/${this.fbUser.uid}/maps`).doc("1").get();return await e.data().map}},mounted(){this.fb=_["a"].initializeApp(this.firebaseConfig),this.fbDb=this.fb.firestore(),this.fbAuth=this.fb.auth(),this.fbDb.settings({timestampsInSnapshots:!0}),this.fbAuth.onAuthStateChanged((e=>{e&&(this.fbUser=e,this.$root.auth.email=e.email,this.$root.downloadMapFromCloud())})),this.$root.auth.uploadToCloudFb=async e=>{this.$root.auth.isLoading=!0,await this.storeMap({map:e}),setTimeout((()=>{this.$root.auth.isLoading=!1}),500)},this.$root.auth.downloadFromCloudFb=async()=>await this.getMap()}}),w=a("27f9"),C=a("0016"),$=a("eebe"),v=a.n($);g.render=h;var G=g;v()(g,"components",{QInput:w["a"],QIcon:C["a"]});var L=a("3a5f"),y=Object(l["l"])({name:"MainLayout",components:{Fb:G,GoogleCalendar:L["a"]},setup(){const e=Object(l["E"])(!1),t=Object(l["E"])(!1);return{leftDrawerOpen:e,leftDrawerOpen1:t,toggleLeftDrawer(){e.value=!e.value}}}}),q=(a("14c3b"),a("4d5a")),Q=a("e359"),I=a("65c6"),D=a("6b1d"),U=a("9c40"),A=a("6ac5"),V=a("2c91"),F=a("9404"),x=a("1c1c"),M=a("0170"),T=a("66e5"),z=a("4074"),J=a("7d53"),S=a("09e3");y.render=m,y.__scopeId="data-v-3f883414";t["default"]=y;v()(y,"components",{QLayout:q["a"],QHeader:Q["a"],QToolbar:I["a"],QLinearProgress:D["a"],QBtn:U["a"],QToolbarTitle:A["a"],QSpace:V["a"],QDrawer:F["a"],QList:x["a"],QItemLabel:M["a"],QItem:T["a"],QItemSection:z["a"],QIcon:C["a"],QFile:J["a"],QPageContainer:S["a"]})}}]);