(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"26f0":function(e,t,o){},"29bd":function(e,t,o){"use strict";o("d0da")},3186:function(e,t,o){},"668c":function(e,t,o){},"6ca4":function(e,t,o){"use strict";o("668c")},"8b24":function(e,t,o){"use strict";o.r(t);var n=o("7a23");const s={class:"scale",style:{position:"fixed",right:"10px",top:"70px"}},c={class:"col q-gutter-sm"},i={class:"row"},d={class:"row"},r={class:"row"},a={class:"row"},l={class:"row text-center",style:{"padding-left":"5px",color:"#aaa"}};function u(e,t,o,u,b,h){const O=Object(n["G"])("Lines"),j=Object(n["G"])("MindMap"),m=Object(n["G"])("q-btn"),p=Object(n["G"])("Editor");return Object(n["z"])(),Object(n["h"])(n["a"],null,[Object(n["k"])("div",{class:"scaled-div",style:"transform: scale("+e.$root.scale+");"},[Object(n["k"])(O),null!==e.$root.selectedMapId?(Object(n["z"])(),Object(n["h"])(j,{key:0,node:e.$root.selectedMap},null,8,["node"])):Object(n["i"])("",!0)],4),Object(n["k"])("div",s,[Object(n["k"])("div",c,[Object(n["k"])("div",i,[Object(n["k"])(m,{outline:"",round:"",color:"primary",icon:"remove",onClick:e.$root.downScale},null,8,["onClick"])]),Object(n["k"])("div",d,[Object(n["k"])(m,{outline:"",round:"",color:"primary",icon:"add",onClick:e.$root.upScale},null,8,["onClick"])]),Object(n["k"])("div",r,[e.$root.ifFullscreen?Object(n["i"])("",!0):(Object(n["z"])(),Object(n["h"])(m,{key:0,outline:"",round:"",color:"primary",icon:"fullscreen",onClick:t[1]||(t[1]=t=>e.fullscreen())}))]),Object(n["k"])("div",a,[e.$root.ifFullscreen?(Object(n["z"])(),Object(n["h"])(m,{key:0,outline:"",round:"",color:"primary",icon:"fullscreen_exit",onClick:t[2]||(t[2]=t=>e.fullscreenOff())})):Object(n["i"])("",!0)]),Object(n["k"])("div",l,Object(n["J"])(Math.round(100*e.$root.scale))+"% ",1)])]),Object(n["k"])(p)],64)}o("e6cf");var b=o("b12a");const h=Object(n["Q"])("data-v-7eda388e"),O=h(((e,t,o,s,c,i)=>{const d=Object(n["G"])("Node");return Object(n["z"])(!0),Object(n["h"])(n["a"],null,Object(n["F"])(o.node.nodes,(e=>(Object(n["z"])(),Object(n["h"])(d,{key:e.id,node:e,mapId:e.id},null,8,["node","mapId"])))),128)})),j={class:"node"};function m(e,t,o,s,c,i){const d=Object(n["G"])("Note"),r=Object(n["G"])("_self");return Object(n["z"])(),Object(n["h"])(n["a"],null,[Object(n["k"])(d,{nodeInfo:e.$root.nodesInfos[o.node.id],node:o.node,onClick:i.clickOnNote,onAddInnerNode:i.addInnerNode,onDelete:t[1]||(t[1]=t=>e.$root.deleteNode(e.$parent,i.innerNodesIds,i.pathToNode)),onOpenEditor:t[2]||(t[2]=t=>{e.$root.openEditor(e.$root.nodesInfos[o.node.id])})},null,8,["nodeInfo","node","onClick","onAddInnerNode"]),Object(n["k"])("div",j,[(Object(n["z"])(!0),Object(n["h"])(n["a"],null,Object(n["F"])(o.node.nodes,((e,t)=>(Object(n["z"])(),Object(n["h"])(r,{key:e.id,node:e,mapId:o.mapId,ref:e=>{e&&(c.childs[t]=e)}},null,8,["node","mapId"])))),128))])],64)}o("ddb0"),o("e01a");const p={key:0,class:"row top-buttons shadow-0"},f={class:"col"},I={class:"col"},k={class:"col"},v={class:"col"},g={class:"row"},y={class:"text-h6"},w={class:"row"};function N(e,t,o,s,c,i){const d=Object(n["G"])("q-btn"),r=Object(n["G"])("q-card-section"),a=Object(n["G"])("q-icon"),l=Object(n["G"])("q-chip"),u=Object(n["G"])("q-card-actions"),b=Object(n["G"])("q-card");return Object(n["z"])(),Object(n["h"])(b,{class:["draggable-card",{"shadow-20 goal":i.isGoal}],onMouseover:t[6]||(t[6]=e=>c.showButtons=!0),onMouseleave:t[7]||(t[7]=e=>c.showButtons=!1),onClick:i.clickHandler,onBlur:t[8]||(t[8]=e=>c.showButtons=!1),style:"position: absolute; left: "+o.nodeInfo.style.x+"px; top: "+o.nodeInfo.style.y+"px; border-color: "+o.nodeInfo.style.color+";background-color: "+o.nodeInfo.style.color+";"},{default:Object(n["N"])((()=>[Object(n["k"])(n["e"],{name:"slidedown"},{default:Object(n["N"])((()=>[c.showButtons?(Object(n["z"])(),Object(n["h"])("div",p,[Object(n["k"])("div",f,[Object(n["k"])(d,{flat:"",size:"lg","text-color":"primary",icon:"edit",onClick:t[1]||(t[1]=t=>e.$emit("openEditor"))})]),Object(n["k"])("div",I,[Object(n["k"])(d,{flat:"",size:"lg","text-color":"red-10",icon:"block",onClick:t[2]||(t[2]=Object(n["P"])((t=>e.$emit("delete")),["stop"]))})]),Object(n["k"])("div",k,[Object(n["k"])(d,{flat:"",size:"lg","text-color":"primary",icon:"add",onClick:t[3]||(t[3]=Object(n["P"])((t=>e.$emit("addInnerNode")),["stop"]))})]),Object(n["k"])("div",v,[Object(n["k"])(d,{flat:"",size:"lg","text-color":"primary",icon:"open_with",onMousedown:t[4]||(t[4]=Object(n["P"])((t=>e.$root.startMoveMouse(t,o.nodeInfo)),["stop"])),onTouchstart:t[5]||(t[5]=Object(n["P"])((t=>e.$root.startMoveTouch(t,o.nodeInfo)),["stop"]))})])])):Object(n["i"])("",!0)])),_:1}),Object(n["k"])(r,{class:"q-pt-xs no-filter"},{default:Object(n["N"])((()=>[Object(n["k"])("div",g,[Object(n["k"])("div",y,Object(n["J"])(o.nodeInfo.name),1)]),Object(n["O"])(Object(n["k"])("div",w,[Object(n["k"])("div",{class:"text-caption description",innerHTML:o.nodeInfo.description},null,8,["innerHTML"])],512),[[n["L"],""!==o.nodeInfo.description]])])),_:1}),Object(n["k"])(u,{class:"no-filter card-actions"},{default:Object(n["N"])((()=>[i.importanceIcon?(Object(n["z"])(),Object(n["h"])(a,{key:0,name:i.importanceIcon,size:"sm"},null,8,["name"])):Object(n["i"])("",!0),i.pleasantnessIcon?(Object(n["z"])(),Object(n["h"])(a,{key:1,name:i.pleasantnessIcon,size:"sm"},null,8,["name"])):Object(n["i"])("",!0),i.easinessIcon?(Object(n["z"])(),Object(n["h"])(a,{key:2,name:i.easinessIcon,size:"sm"},null,8,["name"])):Object(n["i"])("",!0),null!=o.nodeInfo.time.start?(Object(n["z"])(),Object(n["h"])(l,{key:3,square:"",color:"grey-4 shadow-1","text-color":i.timeColor,icon:"event",size:"sm"},{default:Object(n["N"])((()=>[Object(n["j"])(Object(n["J"])(i.startTime),1)])),_:1},8,["text-color"])):Object(n["i"])("",!0),null!=i.duration?(Object(n["z"])(),Object(n["h"])(l,{key:4,square:"",color:"grey-4 shadow-1","text-color":"black",icon:"timelapse",size:"sm"},{default:Object(n["N"])((()=>[Object(n["j"])(Object(n["J"])(i.duration),1)])),_:1})):Object(n["i"])("",!0),null!=o.nodeInfo.cost?(Object(n["z"])(),Object(n["h"])(l,{key:5,square:"",color:"grey-4 shadow-1","text-color":"green-7",size:"sm"},{default:Object(n["N"])((()=>[Object(n["j"])(" $ "+Object(n["J"])(o.nodeInfo.cost),1)])),_:1})):Object(n["i"])("",!0)])),_:1})])),_:1},8,["class","onClick","style"])}var $=o("c1df"),M=o.n($),x={name:"Note",props:["nodeInfo","node"],data(){return{showButtons:!1}},computed:{isGoal(){return"goal"===this.nodeInfo.type||!(null!==this.nodeInfo.time.start||null!==this.nodeInfo.time.durationMins||null!==this.nodeInfo.time.repeatType||this.node.nodes.length<2)},startTime(){return null===this.nodeInfo.time.start?M()().format("D.MM.YYYY, k:mm"):M()(this.nodeInfo.time.start).format("D.MM.YYYY, k:mm")},isOld(){if(null!=this.nodeInfo.time.start){let e=new Date;return M()(this.nodeInfo.time.start).toDate()<e}return!1},timeColor(){return this.isOld?"red-10":"black"},duration(){if(null===this.nodeInfo.time.durationMins)return null;let e=this.nodeInfo.time.durationMins%60,t=(this.nodeInfo.time.durationMins-e)/60;return t?`${t}ч. ${e}м.`:`${e}м.`},importanceIcon(){return this.nodeInfo.scrum.importance>80?"error_outline":this.nodeInfo.scrum.importance>60?"priority_high":this.nodeInfo.scrum.importance<20?"beach_access":null},pleasantnessIcon(){return this.nodeInfo.scrum.pleasantness>80?"sentiment_satisfied_alt":this.nodeInfo.scrum.pleasantness>60?"sentiment_satisfied":this.nodeInfo.scrum.pleasantness<40?"sentiment_very_dissatisfied":null},easinessIcon(){return this.nodeInfo.scrum.easiness>80?"child_care":this.nodeInfo.scrum.easiness<20?"psychology":null}},methods:{clickHandler(){this.showButtons=!0}},created(){console.log("Note created"),console.log(this.nodeInfo),console.log("node",this.node)}},z=(o("29bd"),o("f09f")),_=o("9c40"),C=o("a370"),Y=o("4b7e"),G=o("0016"),S=o("b047"),q=o("eebe"),B=o.n(q);x.render=N;var T=x;B()(x,"components",{QCard:z["a"],QBtn:_["a"],QCardSection:C["a"],QCardActions:Y["a"],QIcon:G["a"],QChip:S["a"]});var X={name:"Node",props:["node","mapId"],components:{Note:T},data(){return{childs:[]}},methods:{addInnerNode(){console.log("addInnerNode"),this.$root.createNewNode(this.node)},clickOnNote(){this.$q.screen.gt.md&&this.$root.openEditor(this.$root.nodesInfos[this.node.id])},help(){console.log(this.$parent)}},created(){console.log("Node created"),console.log(this.node)},computed:{pathToNode(){return"Node"!==this.$parent.$options.name?[this.node.id]:[...this.$parent.pathToNode,this.node.id]},innerNodesIds(){let e=[this.node.id];return this.childs.map((t=>{e=e.concat(t.innerNodesIds)})),e}}};o("cb56");X.render=m;var Q=X,D={name:"MindMap",props:["node"],components:{Node:Q},methods:{addInnerNode(){console.log("addInnerNode"),this.$root.createNewNode(this.node)}},created(){console.log("MindMap created"),console.log(this.node)}};D.render=O,D.__scopeId="data-v-7eda388e";var F=D;o("bd52");const J=Object(n["Q"])("data-v-4693d001"),E=J(((e,t,o,s,c,i)=>(Object(n["z"])(),Object(n["h"])("div",{class:"lines",style:"width:"+e.$root.mapWidth+"px; height:"+e.$root.mapHeight+"px;"},[(Object(n["z"])(),Object(n["h"])("svg",{viewBox:"0 0 "+e.$root.mapWidth+" "+e.$root.mapHeight,xmlns:"http://www.w3.org/2000/svg"},[(Object(n["z"])(!0),Object(n["h"])(n["a"],null,Object(n["F"])(e.$root.lines,((e,t)=>(Object(n["z"])(),Object(n["h"])("line",{key:t,x1:e.start[0],y1:e.start[1],x2:e.end[0],y2:e.end[1],style:"stroke: "+e.fromNodeInfo.style.color+"; stroke-width: "+e.width+";"},null,12,["x1","y1","x2","y2"])))),128))],8,["viewBox"]))],4))));var H={name:"Note",props:["nodeInfo"],methods:{},created(){console.log("Line created"),console.log(this.nodeInfo)}};o("6ca4");H.render=E,H.__scopeId="data-v-4693d001";var L=H,P=o("ceb0"),A=Object(n["l"])({name:"PageIndex",components:{Editor:P["a"],MindMap:F,Lines:L},data(){return{x:100,y:100,dragg:{isDragg:!1,mouseStartX:0,mouseStartY:0,divStartX:0,divStartY:0}}},methods:{async fullscreen(){await b["a"].request(),this.$root.ifFullscreen=!0},async fullscreenOff(){await b["a"].exit(),this.$root.ifFullscreen=!1},startMove(e,t){this.dragg.isDragg=!0,this.dragg.mouseStartX=e,this.dragg.mouseStartY=t,this.dragg.divStartX=this.x,this.dragg.divStartY=this.y},move(e,t){this.x=this.dragg.divStartX+e-this.dragg.mouseStartX,this.y=this.dragg.divStartY+t-this.dragg.mouseStartY},endMove(){document.ontouchend=null,document.ontouchmove=null,document.onmouseup=null,document.onmousemove=null},startMoveMouse({clientX:e,clientY:t}){this.startMove(e,t),document.onmousemove=({clientX:e,clientY:t})=>{this.move(e,t)},document.onmouseup=()=>{this.endMove()}},startMoveTouch({touches:e}){let t=e[0].clientX,o=e[0].clientY;this.startMove(t,o),document.ontouchmove=({touches:e})=>{let t=e[0].clientX,o=e[0].clientY;this.move(t,o)},document.ontouchend=()=>{this.endMove()}}}});o("b0ac");A.render=u;t["default"]=A;B()(A,"components",{QBtn:_["a"]})},b0ac:function(e,t,o){"use strict";o("3186")},cb56:function(e,t,o){"use strict";o("26f0")},d0da:function(e,t,o){}}]);